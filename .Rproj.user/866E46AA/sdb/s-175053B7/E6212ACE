{
    "collab_server" : "",
    "contents" : "#calc_cmns\n#assumes first symbol in symbols is cmn\n#creates cmnret and cmnret.cap (at c01)\n\nif (verbose) print(\"Calc cmn vars\")\nn <- 1\nnam <- symbols[n]\nadjv <- calc_adj(get(nam),nam)\nlagv <- calc_lag(adjv,rename=TRUE)\ncmnpvars <- cbind(adjv,lagv)\ncmnret <- calc_rets(cmnpvars)\ncmnret.cap <- calc_cap(cmnret,0.01)\n\nif (is.null(v.com)) {\n  #setup variable command structure, v.com\n  if (verbose) print (\"Set up default v.com\")\n  v1 <- NULL\n  \n  v1$type <- \"ret\"\n  v1$retnam <- substr(predict.ret,1,2)\n  v1$cap <- 0.01\n  v1$name <- predict.ret\n  v.com$CCret <- v1\n  names(v.com) <- predict.ret\n  \n  v1$lag <- 1\n  v1$type <- \"res\"\n  v1$scale <- \"zscale\"\n  v1$retname <- \"CC\"\n  v1$name <- \"YCCres\"\n  v.com$YCCres <- v1\n  \n  v1$retnam <- \"MC\"\n  v1$name <- \"YMCres\"\n  v.com$YMCres <- v1\n  \n  v1$retnam <- \"OC\"\n  v1$name <- \"YOCres\"\n  v.com$YOCres <- v1\n  \n  v1$retnam <- \"CO\"\n  v1$name <- \"YCOres\"\n  v.com$YCOres <- v1\n  \n  v1$retnam <- \"LH\"\n  v1$name <- \"YLHres\"\n  v.com$YLHres <- v1\n  \n  v1$type <- \"ret\"\n  v1$name <- \"YLHret\"\n  v.com$YLHret <- v1\n  \n  v1$retnam <- \"MC\"\n  v1$name <- \"YMCret\"\n  v.com$YMCret\n  \n  v1$retnam <- \"CC\"\n  v1$name <- \"YCCret\"\n  v.com$YCCret <- v1\n  \n  v1$lag <- 2\n  v1$name <- \"Y2CCret\"\n  v.com$Y2CCret <- v1\n  \n  v1$type <- \"res\"\n  v1$name <- \"Y2CCres\"\n  v.com$Y2CCres <- v1\n  \n  v1$lag <- NULL\n  v1$decay <- 0.1\n  v1$name <- \"CCresd10\"\n  v.com$CCresd10 <- v1\n  \n  v1$decay <- 0.03\n  v1$name <- \"CCresd03\" \n  v.com$CCresd03 <- v1\n  \n  v1$retnam <- \"MC\"\n  v1$name <- \"MCresd03\"\n  v.com$MCresd03 <- v1\n  \n  v1$decay <- 0.1\n  v1$name <- \"MCresd10\"\n  v.com$MCresd10 <- v1\n  \n  v1$decay <- NULL\n  v1$lag <- 1\n  v1$bin_var <- \"logadv.z\"\n  v1$b1 <- -1.\n  v1$b2 <- 3.\n  v1$name <- \"MCresbv\"\n  v.com$MCresbv <- v1\n  \n  v1$retnam <- \"CO\"\n  v1$name <- \"COresbv\"\n  v.com$COresbv <- v1\n  \n  v1$type <- \"ret\"\n  v1$name <- \"COretbv\"\n  v.com$COretbv <- v1\n  \n  v1$type <- \"res\"\n  v1$lag <- NULL\n  v1$decay <- 0.1\n  v1$name <- \"COrsvd1\"\n  v.com$COrsvd1 <- v1\n  \n  v1$decay <- 0.03\n  v1$name <- \"COrsvd3\"\n  v.com$COrsvd3 <- v1\n  \n  #setup variable tierlist, tier_v\n  tier1 <- 1:length(v.com)\n  tier_v <- list(tier1)\n  \n}",
    "created" : 1480387205328.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "2166996537",
    "id" : "E6212ACE",
    "lastKnownWriteTime" : 1478895388,
    "last_content_update" : 1478895388,
    "path" : "~/XLF/XLF.V02/mk_cmnret.R",
    "project_path" : null,
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "r_source"
}